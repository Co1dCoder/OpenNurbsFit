set(NURBSFIT 1 CACHE BOOL "NURBS fit implementation" )
IF(NURBSFIT)

set(CMAKE_CXX_FLAGS "-frounding-math")
	

# find dependent packages
if(WIN32 AND NOT CYGWIN)
  set(EIGEN3_INCLUDE_DIRS "C:/Eigen/" CACHE PATH "Include directory for Eigen3 library.")
else()
  find_package(PkgConfig REQUIRED)
  pkg_search_module(EIGEN3 REQUIRED eigen3)
  include_directories(${EIGEN3_INCLUDE_DIRS})
endif()

if(SUITESPARSE_FOUND)
  include_directories(${SUITESPARSE_INCLUDE_DIRS})
else()

endif()


	
	set(SOURCE_CPP
      surface_depth.cpp)

	set(SOURCE_H
      surface_depth.h)

  add_library(nurbsfit SHARED ${SOURCE_CPP} ${SOURCE_H})
  target_link_libraries(nurbsfit ${CGAL_LIBRARIES})

  install(FILES ${SOURCE_H} ${SOURCE_H_EXT} DESTINATION "${INSTALL_INCLUDE_DIR}/NurbsFit")
  install(TARGETS nurbsfit
          EXPORT OpenNurbsFitTargets
          RUNTIME DESTINATION "${INSTALL_BIN_DIR}" COMPONENT bin
          LIBRARY DESTINATION "${INSTALL_LIB_DIR}" COMPONENT lib
          PUBLIC_HEADER DESTINATION "${INSTALL_INCLUDE_DIR}/NurbsFit"
          COMPONENT dev)


ENDIF(NURBSFIT)
